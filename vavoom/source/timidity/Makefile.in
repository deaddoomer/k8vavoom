top_srcdir=@top_srcdir@
srcdir=@srcdir@
AR=@AR@
CXX=@CXX@
CXXFLAGS=@TIMIDITY_CXXFLAGS@
CPPFLAGS=@TIMIDITY_CPPFLAGS@
OBJEXT=@OBJEXT@
RANLIB=@RANLIB@

OBJS = common.$(OBJEXT) controls.$(OBJEXT) filter.$(OBJEXT) instrum.$(OBJEXT) \
	mix.$(OBJEXT) output.$(OBJEXT) playmidi.$(OBJEXT) readmidi.$(OBJEXT) \
	resample.$(OBJEXT) tables.$(OBJEXT) timidity.$(OBJEXT)

all: libtimidity.a

libtimidity.a: $(OBJS)
	$(AR) rc $@ $^
	$(RANLIB) $@

%.$(OBJEXT): $(srcdir)/%.cpp $(srcdir)/*.h
	$(CXX) $(CPPFLAGS) $(CXXFLAGS) -c -o $@ $<
