CC=@CC@
CFLAGS=@CFLAGS@
EXEEXT=@EXEEXT@
OBJEXT=@OBJEXT@

CFLAGS += -Wall

OBJS = \
	acc.$(OBJEXT) \
	error.$(OBJEXT) \
	misc.$(OBJEXT) \
	parse.$(OBJEXT) \
	pcode.$(OBJEXT) \
	strlist.$(OBJEXT) \
	symbol.$(OBJEXT) \
	token.$(OBJEXT)

all: ../bin/acc$(EXEEXT)

../bin/acc$(EXEEXT): $(OBJS)
	$(CC) -s -o $@ $^

%.$(OBJEXT) : %.c *.h
	$(CC) $(CFLAGS) -c -o $@ $<
