#
# glBSP Makefile for Plugin
#

top_srcdir=@top_srcdir@
srcdir=@srcdir@
AR=@AR@
CC=@CC@
CFLAGS=@GLBSP_CFLAGS@
CPPFLAGS=@GLBSP_CPPFLAGS@
LDFLAGS=@GLBSP_LDFLAGS@
LIBS=@GLBSP_LIBS@
OBJEXT=@OBJEXT@
RANLIB=@RANLIB@

MAIN=.

OUTNAME=libglbsp.a

CFLAGS+=-DGLBSP_PLUGIN -DUNIX -DINLINE_G=inline

OBJS=$(MAIN)/analyze.$(OBJEXT)  \
     $(MAIN)/blockmap.$(OBJEXT) \
     $(MAIN)/glbsp.$(OBJEXT)    \
     $(MAIN)/level.$(OBJEXT)    \
     $(MAIN)/node.$(OBJEXT)     \
     $(MAIN)/reject.$(OBJEXT)   \
     $(MAIN)/seg.$(OBJEXT)      \
     $(MAIN)/system.$(OBJEXT)   \
     $(MAIN)/util.$(OBJEXT)     \
     $(MAIN)/wad.$(OBJEXT)


# ----- TARGETS ------------------------------------------------------

all:    $(OUTNAME)

install:

distdir:

dist:

clean:
	-rm -f $(OUTNAME) $(MAIN)/*.$(OBJEXT)

$(OUTNAME): $(OBJS)
	$(AR) rc $(OUTNAME) $(OBJS)
	$(RANLIB) $(OUTNAME)

%.$(OBJEXT) : $(srcdir)/%.c $(srcdir)/*.h
	$(CC) $(CPPFLAGS) $(CFLAGS) -c -o $@ $<

.PHONY: all clean

